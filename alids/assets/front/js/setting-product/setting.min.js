(()=>{var t=function(t){function e(e,n){return new Promise((function(a,c){n.post_id=parseInt(t('[name="post_id"]').val()),t.ajax({url:alidAjax.ajaxurl,type:"POST",dataType:"json",data:{action:"ads_product_setting",ads_action:e,args:n},success:function(t){return t.hasOwnProperty("error")?c(t):a(t)}})}))}function n(){t("#post_status").selectpicker(),t("#parent_product_category").selectpicker(),t("#product_category").multiselect({includeSelectAllOption:!0,enableFiltering:!0,enableCaseInsensitiveFiltering:!0,templates:{filter:'<li class="multiselect-item multiselect-filter"><i class="fa fa-search"></i> <input class="form-control" type="text"></li>'},onSelectAll:function(){t.uniform.update()},onDeselectAll:function(){t.uniform.update()},onChange:function(t){},onInitialized:function(t){var e=t.parent().find("button");e.attr("title",e.attr("title").replace(/(\r\n|\n|\r|\t)/gm,""))}}).parent().find('.multiselect-container input[type="checkbox"]').uniform()}return{init:function(){var a,c;t("body").on("click",".setting-product-active, #setting-product-overlay",(function(){t("body").toggleClass("setting-product--open")})),t("body").on("click",".js-add-new-cat",(function(){e("add_new_cat",{name_cat:t("#new_product_category").val(),parent:t("#parent_product_category").val()}).then((function(e){t("#new_product_category").val(""),t("#parent_product_category").selectpicker("destroy"),t("#product_category").multiselect("destroy"),t("select#product_category").html(e.categoryMulti),t("select#parent_product_category").html(e.categories),n()}))})),t("body").on("click",".js-add-tag",(function(){e("add_tag",{name_tag:t("#add_tag").val()}).then((function(t){}))})),t("body").on("click",".js-toggle-new",(function(){t(".box-new-cat").toggleClass("hidden")})),t("body").on("click",".js-new-cat-close",(function(){t(".box-new-cat").toggleClass("hidden")})),t("body").on("click",".js-product-trash",(function(t){t.preventDefault(),e("product_trash",{}).then((function(t){location.href=t.category_link}))})),t("body").on("change","#post_status",(function(){e("post_status_change",{status:t("#post_status").val()})})),t("body").on("change","#product_category",(function(){e("product_category_change",{category:t("#product_category").val()})})),t("body").on("click",".js-toggle-title",(function(){e("product_title_change",{title:t("#product_title").val()}).then((function(e){t('#form_singleProduct [itemprop="name"]',window.parent.document).length?t('#form_singleProduct [itemprop="name"]',window.parent.document).html(e.title):parent.location.reload()}))})),t("body").on("click",".js-toggle-permalink",(function(){e("product_permalink_change",{permalink:t("#product_permalink").val()}).then((function(t){parent.location.href=t.permalink}))})),a=t(".setting-product-date-published"),c=t(".setting-product-published"),a.daterangepicker({locale:{format:"YYYY-MM-DD HH:mm"},autoApply:!1,autoUpdateInput:!0,singleDatePicker:!0,startDate:c.val(),timePicker:!0,timePicker24Hour:!0,opens:"right",applyClass:"btn-small bg-slate",cancelClass:"btn-small btn-default",template:'<div class="daterangepicker dropdown-menu ads-daterangepicker-product-settings"><div class="calendars"><div class="calendar left"><div class="calendar-table"></div><div class="daterangepicker_input"><div class="calendar-time"><div></div></div><div class="ranges"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div></div></div><div class="calendar right"><div class="calendar-table"></div><div class="daterangepicker_input"><div class="calendar-time"><div></div></div></div></div></div>'},(function(t,n){a.find("span").html(t.format("MMM, DD HH:mm")),c.val(t.format("YYYY-MM-DD HH:mm:ss")),e("post_published_set",{time:t.format("YYYY-MM-DD HH:mm:ss")})})),a.on("show.daterangepicker",(function(e,n){t(".ads-daterangepicker-product-settings .ranges").show()})),n()}}}(jQuery),e=setInterval((function(){jQuery(".setting-product-body").length&&(clearInterval(e),t.init())}),100)})();